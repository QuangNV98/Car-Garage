<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header" style="background-color: #F5F5F5;">
                <div style="display: inline;">
                    <span style="color: red;float: left;">*</span>
                    <h6 class="card-title" style="float: left;">Customer information</h6>
                </div>  
            </div>
            <div class="card-body">
        
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Name</label>
                            <div class="p-inputgroup">
                                <span class="p-inputgroup-addon" (click)="openDialogCustomer()"><i class="pi pi-user"></i></span>
                                <input type="text" class="form-control" placeholder="Name..." [(ngModel)]="request.NAME_CUS" readonly>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="number" class="form-control" placeholder="phone..." [(ngModel)]="request.PHONE_CUS" readonly>
                        </div>
                    </div>
        
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Street Adress</label>
                            <input type="text" class="form-control" placeholder="address..." [(ngModel)]="request.ADDRESS_CUS" readonly>
                        </div>
                    </div>
                </div>
        
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card">
            <div class="card-header" style="background-color: #F5F5F5;">
                <div style="display: inline;">
                    <span style="color: red;float: left;">*</span>
                    <h6 class="card-title">General information</h6>
                </div>
            </div>
            <div class="card-body">
        
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Type</label>
                            <div class="p-inputgroup">
                                <span class="p-inputgroup-addon"><i class="pi pi-tags"></i></span>
                                <input type="text" class="form-control" value="Repair, fixxing" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Status</label>
                            <div>
                                <p-dropdown [options]="status" optionLabel="Title" optionValue="ID" [(ngModel)]="selectedStatus"
                                    placeholder="Select a Status" (onChange)="onChangeStatus($event)">
                                </p-dropdown>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Start Date</label>
                            <input type="date" class="form-control" [(ngModel)]="request.START_DT" readonly=true>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>End Date(Expected)</label>
                            <input type="date" class="form-control" [(ngModel)]="request.END_DT">
                        </div>
                    </div>
                </div>
        
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header" style="background-color: #F5F5F5;">
        <h6 class="card-title">Car information</h6>
    </div>
    <div class="card-body">

        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label>Name</label><span style="color: red;">*</span>
                    <input type="text" class="form-control" placeholder="Vehicle name..." [(ngModel)]="request.CAR_NAME">
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label>Model</label>
                    <input type="text" class="form-control" placeholder="Model..." [(ngModel)]="request.CAR_MODEL">
                </div>
            </div>

            <div class="col-md-3">
                <div class="form-group">
                    <label>Colour</label>
                    <input type="text" class="form-control" placeholder="Color..." [(ngModel)]="request.CAR_COLOR">
                </div>
            </div>

            <div class="col-md-3">
                <div class="form-group">
                    <label>License plates</label><span style="color: red;">*</span>
                    <input type="text" class="form-control" placeholder="number..." [(ngModel)]="request.CAR_NUM">
                </div>
            </div>
        </div>
    
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>The condition of the vehicle upon receipt</label>
                    <textarea class="form-control" [rows]="4" [cols]="25" pInputTextarea [(ngModel)]="request.CAR_ABOUT"
                                autoResize="autoResize"></textarea>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="card">
    <p-toolbar styleClass="p-mb-4">
        <ng-template pTemplate="left">
            <h6 class="card-title">Manage Equipments</h6>
        </ng-template>

        <ng-template pTemplate="right">
            <button pButton pRipple label="Add" icon="pi pi-plus" class="p-button-success p-mr-2" (click)="openDialogEquipment()"></button>
        </ng-template>
    </p-toolbar>

    <p-table #dt [value]="dataGridEquip" [paginator]="true" [rows]="3" selectionMode="single"
        >
        <ng-template pTemplate="header">
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>About</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
                <td>
                    <img src="/assets/img/system/{{product['IMAGE']}}"
                    style="width: 50px;height: 50px;"
                >
                </td>
                <td>{{product.NAME}}</td>
                <td>
                    <input type="number" value="{{product.QUANTITY_EQUIP}}" min="1" max="100" style="width: 60px;" (change)="doChangeQuantity($event,product.ID_RECENT)">    
                </td>
                <td>{{product.PRICE_TOTAL| currency:'VND'}}</td>
                <td>{{product.ABOUT}}</td>
                <td>
                    <button pButton icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteEquipRecent(product.ID_RECENT)"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>

<div class="card">
    <div class="card-header" style="background-color: #F5F5F5;">
        <h6 class="card-title">Total Fee</h6>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label>Equipment fees</label>
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon">VND</span>
                        <input type="number" class="form-control" readonly [ngModel]="request.FEE_EQUIP">
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label>Repairing fees</label><span style="color: red;">*</span>
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon">VND</span>
                        <input type="number" [(ngModel)]="request.FEE_WORK" min="0" max="999999999" class="form-control"
                         placeholder="price..." (change)="doChangeFeeOfWork($event)">
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label>Total</label>
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon">VND</span>
                        <input type="number" class="form-control" readonly [(ngModel)]="request.FEE_TOTAL">
                    </div>
                </div>
            </div>
        </div>    
    </div>
</div>
<div class="row">
    <div class="update ml-auto mr-auto">
        <button type="submit" class="btn btn-primary btn-round" (click)="doSubmit()">Submit</button>
    </div>
</div>